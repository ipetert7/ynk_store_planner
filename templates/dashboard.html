{% extends "base.html" %}

{% block title %}Dashboard - YNK Store Planner{% endblock %}

{% block extra_styles %}
<style>
        .dashboard-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .welcome-section {
            margin-bottom: 3rem;
        }
        .welcome-section h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: #1b1b1f;
        }
        .welcome-section p {
            font-size: 1.1rem;
            color: #525252;
        }
        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        .module-card {
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 12px 24px rgba(15, 23, 42, 0.06);
            padding: 2rem;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            text-decoration: none;
            color: inherit;
            display: block;
        }
        .module-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 16px 32px rgba(15, 23, 42, 0.12);
        }
        .module-card h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: #1b1b1f;
        }
        .module-card p {
            color: #525252;
            margin-bottom: 1rem;
        }
        .module-card .module-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        .module-card.eerr {
            border-left: 4px solid #1d4ed8;
        }
        .module-card.simulator {
            border-left: 4px solid #10b981;
        }
        .module-card.admin {
            border-left: 4px solid #f59e0b;
        }
        .nav-button.logout {
            background: #000;
            color: white;
            margin-left: auto;
        }
        .nav-button.logout:hover {
            background: #262626;
        }
    </style>
{% endblock %}

{% block content %}
        <div class="dashboard-container">
            <div class="welcome-section">
                <h1>Bienvenido, {{ current_user.name }}</h1>
                <p>Selecciona un m√≥dulo para comenzar</p>
            </div>

            <div class="modules-grid">
                {% if has_access_eerr_report %}
                <a href="/EERR_por_tienda.html" class="module-card eerr">
                    <div class="module-icon">üìä</div>
                    <h3>EERR Real y Presupuesto</h3>
                    <p>Visualiza y analiza los estados de resultados por tienda, comparando escenarios reales y presupuestados.</p>
                </a>
                {% endif %}

                {% if has_access_simulator %}
                <a href="/Simulador_EERR.html" class="module-card simulator">
                    <div class="module-icon">üéØ</div>
                    <h3>Simulador de EERR</h3>
                    <p>Ajusta ventas, m√°rgenes y par√°metros operacionales para proyectar resultados mensuales.</p>
                </a>
                {% endif %}

                {% if has_access_admin_users %}
                <a href="/admin/users" class="module-card admin">
                    <div class="module-icon">üë•</div>
                    <h3>Gesti√≥n de Usuarios</h3>
                    <p>Administra usuarios del sistema y asigna roles.</p>
                </a>
                <a href="/admin/roles" class="module-card admin">
                    <div class="module-icon">üîê</div>
                    <h3>Gesti√≥n de Roles</h3>
                    <p>Crea y gestiona roles, asignando permisos a cada uno.</p>
                </a>
                <a href="/admin/permissions" class="module-card admin">
                    <div class="module-icon">üõ°Ô∏è</div>
                    <h3>Gesti√≥n de Permisos</h3>
                    <p>Crea y gestiona permisos del sistema.</p>
                </a>
                {% endif %}
            </div>

            {% if not has_access_eerr_report and not has_access_simulator and not has_access_admin_users %}
            <div class="card" style="margin-top: 2rem; text-align: center; padding: 3rem;">
                <h2>Sin m√≥dulos disponibles</h2>
                <p>No tienes permisos para acceder a ning√∫n m√≥dulo. Contacta al administrador.</p>
            </div>
            {% endif %}
        </div>
    </div>
{% endblock %}
